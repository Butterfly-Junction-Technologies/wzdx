# CREATING THE FEED

1. [Collaborate via GitHub](#collaborate-via-GitHub)
2. [Data File Types](#data-file-types)
3. [Code Examples](#code-examples)
4. [Data Validation Tools](#data-validation-tools)

### Collaborate via GitHub
GitHub is an open-source repository hosting service that allows for the storage and collaboration of data projects with version control (tracks changes and allows you to revert to previous iterations). The GitHub workflow is comprised of following steps:
- **Creating a Branch** - Branching allows you to make a copy of your project (i.e., the master branch) so that you maintain your master branch clean (i.e., free of changes). This copy lets you experiment with new features (e.g., new data fields).
- **Adding Commits** - A commit is any change made to your project that you can track allowing you to create a record of your work that others can use a reference.  
- **Opening a Pull Request** - Pull requests allows you to alert others on your team to let them review and discuss your changes. 
- **Discussing and Reviewing Commits** - This part of the process allows reviewers on your team or the DAVI Data Team check that the spec is properly implemented (i.e., that data types are correctly specified in an .xsd file).
- **Merging to Master Branch** - Once your commits have been reviewed and approved you can push your changes to merge with the master branch. 

A more in-depth [tutorial is available here](https://guides.github.com/introduction/flow/).

To start collaborating via GitHub:
- [Join GitHub](https://github.com/) by creating a free [organization account and user accounts](https://help.github.com/articles/differences-between-user-and-organization-accounts/) for your team.
- If you are a data producer contact [Nate Deshmukh-Towery](nate.deshmukh-towery@dot.gov) to request your own sub-repository to host your project.

#### How Do I Get Help?
To interact directly with the DAVI Data Team and to get help implementing the spec for your data post an **issue** under the **help wanted** label on the Work Zone GitHub site.

![Posting An Issue](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/master/images/issues.png)

### Data File Types
The WZDx data feed will be specified as an XML file, a JSON file or a geoJSON file. All three have been chosen as the file types of choice because they are:
- A lightweight data exchange format.
- Easy for humans to read and write.
- Easy for machines to parse and generate. 

The file will contain one or more work zone activity entries. A work zone activity entry is defined as a description of work zone characteristics for a road segment along a single roadway in a single direction. The [road_events](/data-tables/road_events.md) table is composed of all data elements and depicted in Figure 1.

#### Work Zone Activity Organization
This document defines the content of the Work Zone Data Specification by means of an Entity Relationship Diagram (ERD). The ERD organizes data into distinct entities (also known as tables or objects), defines the content (also known as fields or properties) of each entity, and documents how those entities, tables or objects are related (Relationships). 

![Fig. 1](/data-tables/road_event_erd.png)

### Code Examples
The WZDx activity code examples presented below were extracted from existing data feeds generated by several open data sites. 
Three examples of work zone activity records are shown below. They were derived from on-line data feeds including:
* [Example 1 – MassDOT Event Feed](/create-feed/massdot.md)
* [Example 2 – iCone Event Feed](/create-feed/icone.md)
* [Example 3 – Caltrans Lane Closure Feed](/create-feed/caltrans.md#json-implementation)

These examples use the following sample work zone activity template:

#### Sample road_event_feed_info table
| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tag &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Value &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |
| --------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| feed_info_id                                                                              |                                                                                           |
| feed_update_date                                                                             |                                                                                           |
| feed_publisher                                                                         |                                                                                           |
| feed_metadata                                                                             |                                                                                           |
| feed_version                                                                              |                                                                                           |

#### Sample road_event table
| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tag &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Value &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |
| --------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| road_event_id                                                                              |                                                                                           |
| feed_info_id                                                                             |                                                                                           |
| event_subidentifier                                                                           |                                                                                           |
| geometry_type                                                                              |                                                                                           |
| geometry                                                                              |                                                                                           |
| road_name                                                                            |                                                                                           |
| road_number                                                                              |                                                                                           |
| event_direction                                                                              |                                                                                           |
| event_beginning_cross_street                                                                              |                                                                                           |
| event_ending_cross_street                                                                            |                                                                                           |
| event_beginning_milepost                                                                              |                                                                                           |
| event_ending_milepost                                                                              |                                                                                           |
| event_beginning_accuracy                                                                              |                                                                                           |
| event_ending_accuracy                                                                              |                                                                                           |
| event_start_date              |                                                                                           |
| event_end_date                    |                                                                                           |
| event_start_date_accuracy              |                                                                                           |
| event_end_date_accuracy                    |                                                                                           |
| event_status                                                                               |                                                                                           |
| event_total_lanes                                                                              |                                                                                           |
| event_open_lanes                                                                               |                                                                                           |
| event_closed_lanes                                                                             |                                                                                           |
| event_closed_shoulders                                                                         |                                                                                           |
| event_workers_present                                                                          |                                                                                           |
| event_reduced_speed_limit                                                                         |                                                                                           |
| event_restrictions                                     |                                                                                           |
| event_description                                                                             |                                                                                           |
| event_issuingOrganization                                                                     |                                                                                           |
| event_creation_date                                                                  |                                                                                           |
| event_update_date                                                                    |                                                                                           |
### Data Validation Tools
To validate data feeds and measure compliance with the v1.1 specification, the GSA/18F team have developed a prototype data validation tool. This validation service that checks work zone activities against the WZDx v1.1 JASON schema specification is available [here](https://github.com/18F/usdot-jpo-ode-workzone-data-exchange/wiki).
