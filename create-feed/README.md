# CREATING THE FEED

1. [Collaborate via GitHub](#collaborate-via-GitHub)
2. [Data File Types](#data-file-types)
3. [Convert Flat Files](#convert-flat-files)
4. [Code Examples](#code-examples)

### Data File Types
The WZDx-v1 data feed will be specified as an XML file or a JSON file. Both JSON and XML have been choosen as the file types of choice because of their lighweight data exchange format, are easy for humans to read and write, and are easy for machines to parse and generate. 

The file will contain one or more work zone activity entries. A work zone activity entry is defined as a description of work zone characteristics for a road segment along a single roadway in a single direction. The WorkZoneActivity data frame is composed of the [Common Core Data Dictionary elements (Table 1)](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/master/data-tables/common-core-dictionary.md#table1.-common-core-data) and depicted in Figure 1.

#### Figure 1: Work Zone Activity Organization
*Note*: not all optional data elements are included in secondary levels of the hierarchy
![Fig. 1](https://github.com/acosta-dani-bah/ITS-JPO-wzdx/blob/master/images/Figure%201.png)

### Code Examples
The WZDx Activity frame code examples presented below were extracted from existing data feeds generated by several open data sites. 
Three examples of WorkZoneActivity records are shown below. They were derived from on-line data feeds including:
* [Example 1 – MassDOT Event Feed](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/master/create-feed/massdot.md)
* [Example 2 – iCone Event Feed](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/master/create-feed/icone.md)
* [Example 3 – Caltrans Lane Closure Feed](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/master/create-feed/caltrans.md#json-implementation)

These examples use the following sample work zone activity template:

#### Sample Work Zone Activity Template
| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tag &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Value &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |
| --------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| Identifier                                                                              |                                                                                           |
| subidentifier                                                                           |                                                                                           |
| StartDateTime<ul><li>startDateTime-est</li><li>startDateTime-ver</li></ul>              |                                                                                           |
| EndDateTime<ul><li>endDateTime-est</li><li>endDateTime-ver</li></ul>                    |                                                                                           |
| BeginLocation<ul><li>roadName</li><li>roadNum</li><li>latitude</li><li>longitude</li><li>milepost</li></ul> |                                                                       |
| EndLocation<ul><li>latitude</li><li>longitude</li><li>milepost</li></ul>                |                                                                                           |
| wz-Status                                                                               |                                                                                           |
| totalLanes                                                                              |                                                                                           |
| openLanes                                                                               |                                                                                           |
| closedLanes                                                                             |                                                                                           |
| closedShoulders                                                                         |                                                                                           |
| workersPresent                                                                          |                                                                                           |
| RoadRestrictions*<ul><li>roadRestrictions</li></ul>                                     |                                                                                           |
| description                                                                             |                                                                                           |
| issuingOrganization                                                                     |                                                                                           |
| timeStampEventCreation                                                                  |                                                                                           |
| timeStampEventUpdate                                                                    |                                                                                           |
