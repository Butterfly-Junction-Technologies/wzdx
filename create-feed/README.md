# CREATING THE FEED

1. [Collaborate via GitHub](#collaborate-via-GitHub)
2. [Data File Types](#data-file-types)
3. [Code Examples](#code-examples)
4. [Data Validation Tools](#data-validation-tools)

### Collaborate via GitHub
GitHub is an open-source repository hosting service that allows for the storage and collaboration of data projects with version control (tracks changes and allows you to revert to previous iterations). The GitHub workflow is comprised of following steps:
- **Creating a Branch** - Branching allows you to make a copy of your project (i.e., the master branch) so that you maintain your master branch clean (i.e., free of changes). This copy lets you experiment with new features (e.g., new data fields).
- **Adding Commits** - A commit is any change made to your project that you can track allowing you to create a record of your work that others can use a reference.  
- **Opening a Pull Request** - Pull requests allows you to alert others on your team to let them review and discuss your changes. 
- **Discussing and Reviewing Commits** - This part of the process allows reviewers on your team or the DAVI Data Team check that the spec is properly implemented (i.e., that data types are correctly specified in an .xsd file).
- **Merging to Master Branch** - Once your commits have been reviewed and approved you can push your changes to merge with the master branch. 

A more in-depth [tutorial is available here](https://guides.github.com/introduction/flow/).

To start collaborating via GitHub:
- [Join GitHub](https://github.com/) by creating a free [organization account and user accounts](https://help.github.com/articles/differences-between-user-and-organization-accounts/) for your team.
- If you are a data producer contact [Nate Deshmukh-Towery](nate.deshmukh-towery@dot.gov) to request your own sub-repository to host your project.

#### How Do I Get Help?
To interact directly with the DAVI Data Team and to get help implementing the spec for your data post an **issue** under the **help wanted** label on the Work Zone GitHub site.

![Posting An Issue](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/master/images/issues.png)

### Data File Types
The WZDx v2.0 data feed is formatted according to the [geoJSON](https://geojson.org/) specification.  GeoJSON is the file format of choice because:
- It is a lightweight data exchange format.
- It is easy for humans to read and write.
- It is Easy for machines to parse and generate.
- The format is designed to exchange spatial data, which is a primary goal of the Work Zone Data Working Group.
- It is an open specification and does not carry licensing burdens.
- GeoJSON formatted-data is published as text files, there is a low technological burden of entry.
- GeoJSON validation, mapping, and visualization tools already exists and will ease adoption by producers and consumers.

WZD feeds contain one or more entries which describe a Work Zone's characteristics, along a single road segment, in a single direction.  Each entry is a collection of data describing specific aspects of the feed or the event.  The tables below detail the specificaton's content.
- The [Road Event Feed Information](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/v2/data-tables/road_event_feed_info.md) table describes the dataset.
- The [Road Events](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/v2/data-tables/road_events.md) table describes a work zone event.
- The [Types of Work]() table describes the work work taking place along the road.  If applicable, it indicates if the work changes the roadway's architecture.
- The [Lanes](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/v2/data-tables/lanes.md) table identifies and describes individual lanes within an event.
- The [Lane Restrictions](https://github.com/usdot-jpo-ode/jpo-wzdx/blob/v2/data-tables/lane_restriction.md) table describes restrictions for identified lanes.

Figure 1 models the tables and their relationships.

#### Figure 1: Work Zone Data Entity Relationship Diagram
*Note*: Required data elements are in bold.

![Fig. 1](https://github.com/DeraldDudley/jpo-wzdx/blob/require_geo_json/data-tables/road_event_erd.png)

### Code Examples
The WZDx feed examples presented below were extracted from existing data feeds generated by several open data sites.
Three examples of Work Zone event records are shown below. They were derived from on-line data feeds including:
* [Example 1 – MassDOT Event Feed](/create-feed/massdot.md)
* [Example 2 – iCone Event Feed](/create-feed/icone.md)
* [Example 3 – Caltrans Lane Closure Feed](/create-feed/caltrans.md)

These examples use the following sample work zone event template:

#### Sample Work Zone Activity Template
- [MultiPoint GeoJSON Template](https://raw.githubusercontent.com/DeraldDudley/jpo-wzdx/require_geo_json/create-feed/templates/multipoint_template.geojson)
- [LineString GeoJSON Template](https://raw.githubusercontent.com/DeraldDudley/jpo-wzdx/require_geo_json/create-feed/templates/linestring_template.geojson)
### Data Validation Tools
To validate data feeds and measure compliance with the v1.1 specification, the GSA/18F team have developed a prototype data validation tool. This validation service that checks work zone activities against the WZDx v1.1 JASON schema specification is available [here](https://github.com/18F/usdot-jpo-ode-workzone-data-exchange/wiki).
